<!DOCTYPE html>
<html lang="en" xmlns:class="http://www.w3.org/1999/xhtml">
<head>
    <title>Twitter</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!script src="demo.js"><!/script>
    <link rel="stylesheet" href="index.css">
</head>
<body>
<header>
<img class=img src="../twitter.png" />
    <h1 class=title  > <b>TWITTER</b></h1></header>
<div >
    <button class = buttons  value = "button" onclick="demo()">GET TIMELINE</button>
</div>
<div id="tweetSection" style=" border: 3px solid black">
</div>

<script>
    function demo() {
        $(document).ready(function() {
            jQuery.ajax({
                url: "http://localhost:8080/Twitter/TimeLine",
                type: "GET",
                success: function(result) {
                    console.log(result);
                    const tweets = result;
                    document.getElementById('tweetSection').innerHTML = tweets.map(tweet =>
                        `<div class = "message">

                          <a href="${tweet.profileUrl}"><img class = profile src =${tweet.profileUrl} align="left"></a>
                          <div class="text"> <b><i>Name :</i></b> ${tweet.name} <br> </div>
                          <div class="text"><b><i>Screen name Id :</i></b> ${tweet.id}<br></div>
                          <div class="text"><b><i>Tweet message :</i></b> ${tweet.info} <br></div>
                          <div class="text"><b><i>CreatedAt :</i></b> ${tweet.createDate} <br></div>
                          <div class="text"><b><i>Tweet URL :</i></b><a href="https://twitter.com/${tweet.id}">click here to go to tweet</a><br><br></div>
                        </div>`
                    ).join(' ')
                },
                error: function(error) {
                    document.getElementById('tweetSection').innerHTML = ("error");
                }
            });
        });
    }
</script>
</body>
</html>